(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/task/Taskdetails"],{"0cdc":function(t,a,e){},6381:function(t,a,e){"use strict";e.r(a);var i=e("6c0b"),s=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(a,t,function(){return i[t]})}(n);a["default"]=s.a},"6c0b":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,s=n(e("8085"));function n(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{shows:0,rwArray:{},rwbzArray:{},rwid:"",tisi:"",tisis:"",TaskId:"",choosedaylist:[],isActive:-1,activedata:""}},onLoad:function(t){i=this,this.rwid=t.rwid,this.rwlist(this.rwid),s.default.islogin(!0)},methods:{rwlist:function(a){var e=this;t.showLoading({title:"加载中....",mask:!0}),t.request({url:s.default.websiteUrl+"task/gettask",method:"GET",data:s.default.postdata({id:a,userid:s.default.getstate().userid}),success:function(a){if(200==a.data.code){var i=new Date;e.TaskId=a.data.data.baseinfo.TaskId,e.rwArray=a.data.data.baseinfo,e.rwbzArray=a.data.data.baseinfo.Instruction.split(";");for(var n=new Date(a.data.data.baseinfo.EndDate),r=parseInt(parseInt(n.getTime()-i.getTime())/864e5)+1,c=r>5?5:r,o=["周日","周一","周二","周三","周四","周五","周六"],u=0;u<c;u++){var l=new Object,d=new Date(parseInt(i.getTime())+864e5*u);0==u?(l.cndes="今天",l.monthday=d.getMonth()+1+"-"+d.getDate()):i.getDay()+u>6?(l.cndes=o[i.getDay()+u-7],l.monthday=d.getMonth()+1+"-"+d.getDate()):(l.cndes=o[i.getDay()+u],l.monthday=d.getMonth()+1+"-"+d.getDate()),e.choosedaylist.push(l)}}else s.default.goout(a.data.info),t.showToast({icon:"none",title:a.data.info});t.hideLoading()},fail:function(a){t.showToast({icon:"none",title:"网络异常,请下拉刷新重试！"})}})},lqbut:function(a){var e=this;this.choosedaylist.length=0,this.rwlist(this.rwid);new Date;var i=this.rwArray.RState,n=i>0?"取消":"领取";""==this.activedata?t.showToast({icon:"none",title:"请选择日期！"}):t.request({url:s.default.websiteUrl+"task/ReceiveTask",method:"GET",data:s.default.postdata({taskid:this.rwid,userid:s.default.getstate().userid,receivedate:this.activedata,type:"1",CState:i>0?"0":"1"}),success:function(a){200==a.data.code?(e.choosedaylist.length=0,e.rwlist(e.rwid),t.showToast({title:n+"成功。"})):(s.default.goout(a.data.info),t.showToast({icon:"none",title:"任务已领取"}))},fail:function(){t.hideLoading(),t.showToast({icon:"none",title:"网络异常,请重试！"})}})},scbut:function(){var a=this;this.choosedaylist.length=0;var e=this.rwArray.CState,n=e>0?"取消":"收藏";t.request({url:s.default.websiteUrl+"task/ReceiveTask",method:"GET",data:s.default.postdata({taskid:i.rwid,userid:s.default.getstate().userid,type:"2",CState:e>0?"0":"1"}),success:function(e){200==e.data.code?(a.rwlist(a.rwid),t.showToast({title:n+"成功。"})):(s.default.goout(e.data.info),t.showToast({icon:"none",title:e.data.info}))},fail:function(){t.showToast({icon:"none",title:"网络异常,请重试！"})}})},active:function(t){this.isActive=t.currentTarget.id,this.activedata=t.currentTarget.id}}};a.default=r}).call(this,e("649d")["default"])},"6cc0":function(t,a,e){"use strict";e.r(a);var i=e("e7c6"),s=e("6381");for(var n in s)"default"!==n&&function(t){e.d(a,t,function(){return s[t]})}(n);e("c7d4");var r=e("2877"),c=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);c.options.__file="Taskdetails.vue",a["default"]=c.exports},c7d4:function(t,a,e){"use strict";var i=e("0cdc"),s=e.n(i);s.a},d3d2:function(t,a,e){"use strict";e("047b");var i=n(e("b0ce")),s=n(e("6cc0"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},e7c6:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"content"},[e("view",{staticClass:"uni-rw-time"},[e("view",{staticClass:"uni-rw-title"},[e("text",[t._v(t._s(t.rwArray.TaskName))])]),e("view",{staticClass:"uni-rw-ms col"},[e("view",{staticClass:"uni-rw-sm"},[t._v("任务说明：")]),e("view",{staticClass:"uni-rw-m"},[e("text",[t._v(t._s(t.rwArray.explain))])])])]),e("view",{staticClass:"uni-rw-time"},[e("view",{staticClass:"uni-rw-ms col"},[e("view",{staticClass:"uni-rw-sm"},[t._v("任务要求：")]),e("view",{staticClass:"uni-rw-yq"},[e("text",[t._v(t._s(t.rwArray.Requirement)+"人")])])])]),e("view",{staticClass:"uni-rw-time"},[e("view",{staticClass:"uni-rw-ms col"},[e("view",{staticClass:"uni-rw-sm"},[t._v("商家名称：")]),e("view",{staticClass:"uni-rw-m"},[e("text",[t._v(t._s(t.rwArray.Merchant))])])])]),e("view",{staticClass:"uni-rw-time"},[e("view",{staticClass:"uni-rw-ms col uni-sj-wz"},[e("view",{staticClass:"uni-rw-sm"},[t._v("商家位置：")]),e("view",{staticClass:"uni-rw-m"},[e("text",[t._v(t._s(t.rwArray.Position))])])]),e("view",{staticClass:"uni-rw-ms col"},[e("view",{staticClass:"uni-rw-sm"},[t._v("商家照片：")]),e("view",{staticClass:"uni-rw-m"},[e("image",{attrs:{src:t.rwArray.Pictures,mode:""}}),e("image",{attrs:{src:t.rwArray.Pictures,mode:""}})])])]),e("view",{staticClass:"uni-rw-time"},[t._m(0),e("view",{staticClass:"uni-time-list"},t._l(t.choosedaylist,function(a,i){return e("view",{key:i,staticClass:"uni-time-item",class:{active:a.monthday==t.isActive},attrs:{id:a.monthday,eventid:"3cbf77c9-0-"+i},on:{click:t.active}},[e("text",[t._v(t._s(a.cndes))]),e("text",[t._v(t._s(a.monthday))])])}))]),e("view",{staticClass:"uni-rw-time"},[t._m(1),t._l(t.rwbzArray,function(a,i){return e("view",{key:i,staticClass:"uni-cz-bz"},[e("text",[t._v(t._s(a))])])})],2),e("view",{staticClass:"uni-but-item"},[e("view",{staticClass:"uni-sc-but",class:{lqactives:t.rwArray.CState>0},attrs:{"data-id":t.rwArray.CState,eventid:"3cbf77c9-1"},on:{click:t.scbut}},[e("uni-icon",{staticClass:"uni-x1-icon",attrs:{mpcomid:"3cbf77c9-0"}}),e("text",[t._v(t._s(t.rwArray.CState>0?"取消收藏":"收藏任务"))])],1),e("view",{staticClass:"uni-lqs-but",class:{lqactive:t.rwArray.RState>0},attrs:{id:t.rwArray.RState,eventid:"3cbf77c9-2"},on:{click:t.lqbut}},[e("text",[t._v(t._s(t.rwArray.RState>0?"已领取":"领取任务"))])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"uni-rw-ms col uni-sj-wz"},[e("view",{staticClass:"uni-rw-sm"},[t._v("日期选择")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"uni-rw-ms col uni-sj-wz"},[e("view",{staticClass:"uni-rw-sm"},[t._v("操作步骤")])])}];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return s})}},[["d3d2","common/runtime","common/vendor"]]]);