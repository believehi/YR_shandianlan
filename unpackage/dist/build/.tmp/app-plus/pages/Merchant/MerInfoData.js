(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Merchant/MerInfoData"],{4075:function(t,e,a){"use strict";var i=a("4905"),n=a.n(i);n.a},4905:function(t,e,a){},"4d5c":function(t,e,a){"use strict";a.r(e);var i=a("f00c"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"69c7":function(t,e,a){"use strict";a("f15c");var i=o(a("b0ce")),n=o(a("8691"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(n.default))},7658:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("form",{attrs:{eventid:"1b18bd01-5"},on:{submit:t.formSubmit}},[a("view",{staticClass:"uni-data-content"},[a("view",{staticClass:"uni-user-img uni-data-item",attrs:{eventid:"1b18bd01-0"},on:{click:t.getImage}},[a("text",[t._v("头像")]),a("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"Id",value:t.UserId}}),a("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"Headimgurl",value:t.Headimgurl}}),a("input",{attrs:{type:"",value:""}}),a("view",[a("image",{attrs:{src:t.img}})]),a("uni-icon",{staticClass:"iconfont-1 icon-you",attrs:{mpcomid:"1b18bd01-0"}})],1),a("view",{staticClass:"uni-input-item uni-data-item"},[a("text",[t._v("商家名称")]),a("view",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text",name:"MerchantName",value:t.userfoArray.MerchantName,eventid:"1b18bd01-1"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),a("uni-icon",{staticClass:"iconfont-1 icon-you",attrs:{mpcomid:"1b18bd01-1"}})],1),a("view",{staticClass:"uni-input-item uni-data-item"},[a("text",[t._v("法人代表")]),a("view",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ArtiPerson,expression:"ArtiPerson"}],attrs:{type:"text",name:"ArtiPerson",value:t.userfoArray.ArtiPerson,placeholder:"请填写真实的法人",eventid:"1b18bd01-2"},domProps:{value:t.ArtiPerson},on:{input:function(e){e.target.composing||(t.ArtiPerson=e.target.value)}}})]),a("uni-icon",{staticClass:"iconfont-1 icon-you",attrs:{mpcomid:"1b18bd01-2"}})],1),a("view",{staticClass:"uni-input-item uni-data-item"},[a("text",[t._v("营业执照")]),a("view",{attrs:{eventid:"1b18bd01-3"},on:{click:t.DiscernImage}},[a("image",{attrs:{src:t.userfoArray.BusinessLicense,mode:""}}),a("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"BusinessLicense",value:t.MerImg}})]),a("uni-icon",{staticClass:"iconfont-1 icon-you",attrs:{mpcomid:"1b18bd01-3"}})],1),a("view",{staticClass:"uni-input-item uni-data-item"},[a("text",[t._v("地址")]),a("view",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Position,expression:"Position"}],staticClass:"uni-phone-color",attrs:{name:"Position",value:t.userfoArray.Position,placeholder:"请填写商家地址",disabled:"disabled",eventid:"1b18bd01-4"},domProps:{value:t.Position},on:{input:function(e){e.target.composing||(t.Position=e.target.value)}}})]),a("uni-icon",{staticClass:"iconfont-1 icon-you",attrs:{mpcomid:"1b18bd01-4"}})],1),a("view",{staticClass:"uni-input-item uni-data-item"},[a("text",[t._v("银行卡卡号")]),a("view",[a("input",{attrs:{type:"number",name:"AccountBank",value:t.userfoArray.AccountBank,placeholder:"请填写真实的银行卡卡号"}})]),a("uni-icon",{staticClass:"iconfont-1 icon-you",attrs:{mpcomid:"1b18bd01-5"}})],1),a("view",{staticClass:"uni-input-item uni-data-item"},[a("text",[t._v("支付宝账号")]),a("view",[a("input",{attrs:{type:"number",name:"Alipay",value:t.userfoArray.Alipay,placeholder:"请填写真实的支付宝账号"}})]),a("uni-icon",{staticClass:"iconfont-1 icon-you",attrs:{mpcomid:"1b18bd01-6"}})],1)]),a("button",{staticClass:"uni-bc-but",attrs:{type:"",formType:"submit"}},[t._v("保存")])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},8691:function(t,e,a){"use strict";a.r(e);var i=a("7658"),n=a("4d5c");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("4075");var s=a("2877"),r=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},f00c:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("e1ec"));function n(t){return t&&t.__esModule?t:{default:t}}var o={components:{},data:function(){return{UserId:"",userfoArray:"",nickname:"",mobile:"",userdata:"",loginMark:"",token:"",Headimgurl:"",img:"",MerImg:"",ArtiPerson:"",MerPer:"",MerName:""}},onLoad:function(){this.userinfo(),this.UserId=i.default.getstate().userid,this.loginMark=t.getStorageSync("loginMark"),this.token=t.getStorageSync("token")},methods:{userinfo:function(){var e=this;t.showLoading({title:"加载中"});var a=i.default.getstate().userid;t.request({url:i.default.websiteUrl+"merchantcenter/getmerchantinfo",method:"GET",data:i.default.postdata({mid:a}),success:function(a){200==a.data.code?(e.img=a.data.data.baseinfo.Headimgurl,e.userfoArray=a.data.data.baseinfo):t.showToast({icon:"none",title:a.data.info}),t.hideLoading()},fail:function(){t.hideLoading(),t.showToast({icon:"none",title:"网络异常,请稍后重试"})}})},setData:function(t){var e=this;Object.keys(t).forEach(function(a){e.$set(e.$data,a,t[a])})},getImage:function(){var e=this;t.chooseImage({success:function(a){t.showLoading({title:"上传中"}),t.uploadFile({url:i.default.websiteUrl+"/annexes/UploadImg",filePath:a.tempFilePaths[0],fileType:"uploadFile",name:"upload",formData:i.default.postdata({}),success:function(a){var i=JSON.parse(a.data);if(200==i.code){var n="https://cszx.yiruit.net",o=n+i.info;e.Headimgurl=o,t.showToast({icon:"none",title:"上传成功"})}else t.hideLoading(),t.showToast({icon:"none",title:"上传失败,请重试"});t.hideLoading()},fail:function(){t.hideLoading(),t.showToast({icon:"none",title:"上传失败,请重试"})}}),e.setData({img:a.tempFilePaths[0]})}})},DiscernImage:function(){var e=this;t.chooseImage({success:function(a){e.imgs=a.tempFilePaths[0],t.showLoading({title:"识别中"}),t.uploadFile({url:i.default.websiteUrl+"annexes/businesslicense",filePath:a.tempFilePaths[0],fileType:"uploadFile",name:"upload",formData:{loginMark:i.default.getloginMark(),token:"",data:"{}"},success:function(a){var i=JSON.parse(a.data);if(200==i.code){var n="https://cszx.yiruit.net",o=n+i.data.path;e.MerImg=o,e.MerName=i.data.name,e.MerPer=i.data.person,t.showToast({icon:"none",title:"识别成功！"})}else t.hideLoading(),t.showToast({icon:"none",title:i.info});t.hideLoading()},fail:function(){t.hideLoading(),t.showToast({icon:"none",title:"识别失败"})}}),e.setData({img:a.tempFilePaths[0]})}})},formSubmit:function(e){t.showLoading({title:"修改中"}),this.userdata=e.detail.value;var a=this;t.request({url:i.default.websiteUrl+"/merchantcenter/updatemerchantcenter",method:"GET",data:{loginMark:a.loginMark,token:a.token,data:a.userdata},success:function(e){200==e.data.code?t.showToast({icon:"none",title:"修改成功"}):t.showToast({icon:"none",title:e.data.info}),t.hideLoading()},fail:function(){t.hideLoading(),t.showToast({icon:"none",title:"网络异常,请稍后重试"})}})},openphone:function(){t.navigateTo({url:"zhanghuanquan"})}}};e.default=o}).call(this,a("649d")["default"])}},[["69c7","common/runtime","common/vendor"]]]);