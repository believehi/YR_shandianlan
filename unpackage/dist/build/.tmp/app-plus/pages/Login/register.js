(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Login/register"],{2337:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("8085"));function n(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return self=this,{mobile:"",password:"",conpassword:"",nikename:"",account:"",plans:"",code:"",codestr:"",choosedaylist:[],index:0,tipsCode:"获取验证码",timeNum:60,clikType:!1,timeOut:60}},onLoad:function(){var t=this;this,e.request({url:o.default.websiteUrl+"/user/getplantype",method:"GET",data:{},success:function(e){200==e.data.code&&(t.choosedaylist=e.data.data.plans)}})},methods:{bindPickerChange:function(e){this.index=e.target.value},openCodeDialog:function(){var t=this;""!=t.mobile?o.default.checkmobile(t.mobile)?t.clikType||(console.log(t.clikType),t.codestr=o.default.MathRand(4),t.clikType=!0,console.log(t.clikType),e.request({url:"http://utf8.api.smschinese.cn/",method:"GET",data:{Uid:"xingjiushenqi",Key:"d41d8cd98f00b204e980",smsMob:t.mobile,smsText:"您的验证码为："+t.codestr+"，有效期5分钟"},success:function(i){"1"==i.data?t.getTime():e.showToast({icon:"none",title:"获取验证码失败,请重试"})},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"网络异常,请稍后重试"})}})):e.showToast({icon:"none",title:"请输入正确的手机号码"}):e.showToast({icon:"none",title:"请输入你的手机号码"})},getTime:function(){var e=this,t=setInterval(function(){e.timeNum--,e.timeNum<=0?(e.tipsCode="重新获取验证码",e.timeNum=e.timeOut,e.clikType=!1,clearInterval(t)):e.tipsCode="重新发送"+e.timeNum+"秒"},1e3)},formSubmit:function(t){t.detail.value.plans;""!=this.mobile?o.default.checkmobile(this.mobile)?""!=this.code&&this.code==this.codestr&&this.codestr==this.code?this.password.length<6||this.password.length>12?e.showToast({icon:"none",title:"请输入6-12个字符的密码"}):this.password==this.conpassword?""!=this.account?(e.showLoading({mask:!0,title:"注册中，请稍候"}),e.request({url:o.default.websiteUrl+"user/reg",data:{loginMark:o.default.getloginMark(),token:"",data:'{"mobile": "'+self.mobile+'","password": "'+self.password+'","account":"'+self.account+'","plans":"'+t.detail.value.plans+'"}'},method:"GET",dataType:"json",success:function(t){e.hideLoading(),200==t.data.code?(e.showToast({icon:"none",title:"注册成功，请登陆"}),e.removeStorageSync("sdlstate1"),e.redirectTo({url:"login"})):e.showToast({icon:"none",title:t.data.info})},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"网络异常,请稍后重试"})}})):e.showToast({icon:"none",title:"请输入平台账号"}):e.showToast({icon:"none",title:"密码确认错误"}):e.showToast({icon:"none",title:"验证码错误"}):e.showToast({icon:"none",title:"请输入正确的手机号码"}):e.showToast({icon:"none",title:"请输入你的手机号码"})},openlogin:function(){e.navigateTo({url:"login"})}}};t.default=s}).call(this,i("649d")["default"])},"318c":function(e,t,i){"use strict";i.r(t);var o=i("2337"),n=i.n(o);for(var s in o)"default"!==s&&function(e){i.d(t,e,function(){return o[e]})}(s);t["default"]=n.a},"39d6":function(e,t,i){"use strict";var o=i("803a"),n=i.n(o);n.a},"6a89":function(e,t,i){"use strict";i.r(t);var o=i("fd32"),n=i("318c");for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);i("39d6");var a=i("2877"),l=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);l.options.__file="register.vue",t["default"]=l.exports},"6c31":function(e,t,i){"use strict";i("047b");var o=s(i("b0ce")),n=s(i("6a89"));function s(e){return e&&e.__esModule?e:{default:e}}Page((0,o.default)(n.default))},"803a":function(e,t,i){},fd32:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:"uni-reg-content"},[i("form",{staticClass:"uni-reg-list",attrs:{eventid:"27b87f02-9"},on:{submit:e.formSubmit}},[i("view",{staticClass:"uni-form-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{type:"number",name:"mobile",placeholder:"请输入手机号",eventid:"27b87f02-0"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),i("view",{staticClass:"uni-form-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",name:"yzm",value:e.code,placeholder:"请输入验证码",eventid:"27b87f02-1"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),i("view",{staticClass:"message_code_gain",attrs:{eventid:"27b87f02-2"},on:{click:e.openCodeDialog}},[e._v("\n\t\t\t\t"+e._s(e.tipsCode)+"\n\t\t\t")])]),i("view",{staticClass:"uni-form-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{password:"",name:"password",type:"text",placeholder:"请输入密码",eventid:"27b87f02-3"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),i("view",{staticClass:"uni-form-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.conpassword,expression:"conpassword"}],attrs:{password:"",type:"text",placeholder:"确认密码",eventid:"27b87f02-4"},domProps:{value:e.conpassword},on:{input:function(t){t.target.composing||(e.conpassword=t.target.value)}}})]),i("view",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[i("view",[i("view",{staticClass:"uni-pt",staticStyle:{"padding-top":"5rpx"}},[e._v("请选择平台")]),i("view",{staticClass:"uni-list-cell-db uni-form-item uni-form-items"},[i("picker",{staticClass:"picker",attrs:{id:e.index,range:e.choosedaylist,eventid:"27b87f02-6"},on:{change:e.bindPickerChange}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.plans,expression:"plans"}],staticClass:"uni-input",attrs:{type:"text",name:"plans",value:e.choosedaylist[e.index],disabled:"disabled",eventid:"27b87f02-5"},domProps:{value:e.plans},on:{input:function(t){t.target.composing||(e.plans=t.target.value)}}})])],1)]),i("view",{staticClass:"uni-domain-list uni-form-item"},[i("view",{staticClass:"uni-pt"},[e._v("请填写平台账号")]),i("view",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],staticClass:"uni-pts",attrs:{name:"account",type:"text",eventid:"27b87f02-7"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})])])]),i("view",{staticClass:"uni-item"}),i("view",{staticClass:"uni-zc-but"},[i("button",{attrs:{type:"primary","form-type":"submit"}},[e._v("注册")]),i("view",{staticClass:"uni-login-but",attrs:{eventid:"27b87f02-8"},on:{tap:e.openlogin}},[i("text",[e._v("已有账号？立即登录")])])],1)])],1)},n=[];i.d(t,"a",function(){return o}),i.d(t,"b",function(){return n})}},[["6c31","common/runtime","common/vendor"]]]);