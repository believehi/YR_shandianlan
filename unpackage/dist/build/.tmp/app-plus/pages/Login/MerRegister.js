(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Login/MerRegister"],{"04c1":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o("e1ec"));function a(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return self=this,{merchantname:"",artiperson:"",mobile:"",password:"",businesslicense:"",conpassword:"",nikename:"",code:"",codes:"",codestr:"",tipsCode:"获取验证码",timeNum:60,clikType:!1,timeOut:60,img:"",imgs:"",MerName:"",MerPer:""}},onLoad:function(){this},methods:{setData:function(e){var t=this;Object.keys(e).forEach(function(o){t.$set(t.$data,o,e[o])})},getImage:function(){var t=this;e.chooseImage({success:function(o){t.imgs=o.tempFilePaths[0],e.showLoading({title:"识别中"}),e.uploadFile({url:n.default.websiteUrl+"annexes/businesslicense",filePath:o.tempFilePaths[0],fileType:"uploadFile",name:"upload",formData:{loginMark:n.default.getloginMark(),token:"",data:"{}"},success:function(o){var n=JSON.parse(o.data);if(200==n.code){var a="https://cszx.yiruit.net",i=a+n.data.path;t.img=i,t.MerName=n.data.name,t.MerPer=n.data.person,e.showToast({icon:"none",title:"识别成功！"})}else e.hideLoading(),e.showToast({icon:"none",title:n.info});e.hideLoading()},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"识别失败"})}}),t.setData({img:o.tempFilePaths[0]})}})},openCodeDialog:function(){var t=this,o=this;""!=o.mobile?n.default.checkmobile(o.mobile)?o.clikType||(o.getTime(),o.codestr=n.default.MathRand(4),o.clikType=!0,e.request({url:n.default.websiteUrl+"send/sendcode",method:"GET",data:{loginMark:n.default.getloginMark(),token:"",data:'{"phone": "'+self.mobile+'"}'},success:function(o){200==o.data.code?t.codes=o.data.info:e.showToast({icon:"none",title:"获取验证码失败,请重试"})},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"网络异常,请稍后重试"})}})):e.showToast({icon:"none",title:"请输入正确的手机号码"}):e.showToast({icon:"none",title:"请输入你的手机号码"})},getTime:function(){var e=this,t=setInterval(function(){e.timeNum--,e.timeNum<=0?(e.tipsCode="重新获取验证码",e.timeNum=e.timeOut,e.clikType=!1,clearInterval(t)):e.tipsCode="重新发送"+e.timeNum+"秒"},1e3)},formSubmit:function(t){t.detail.value.plans;""!=this.merchantname?""!=this.artiperson?""!=this.imgs?""!=this.mobile?n.default.checkmobile(this.mobile)?""!=this.code&&this.code==this.codes&&this.codes==this.code?this.password.length<6||this.password.length>12?e.showToast({icon:"none",title:"请输入6-12个字符的密码"}):this.password==this.conpassword?""!=this.account?(e.showLoading({mask:!0,title:"注册中，请稍候"}),e.request({url:n.default.websiteUrl+"remerchant/registration",data:{loginMark:n.default.getloginMark(),token:"",data:'{"phone": "'+self.mobile+'","artiperson": "'+self.artiperson+'","password": "'+self.password+'","merchantname":"'+self.merchantname+'","businesslicense":"'+self.img+'"}'},method:"GET",dataType:"json",success:function(t){e.hideLoading(),200==t.data.code?(e.showToast({icon:"none",title:"注册成功，请登录"}),e.removeStorageSync("sdlstate1"),e.redirectTo({url:"MerLogin"})):e.showToast({icon:"none",title:t.data.info})},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"网络异常,请稍后重试"})}})):e.showToast({icon:"none",title:"请输入平台账号"}):e.showToast({icon:"none",title:"密码确认错误"}):e.showToast({icon:"none",title:"验证码错误"}):e.showToast({icon:"none",title:"请输入正确的手机号码"}):e.showToast({icon:"none",title:"请输入你的手机号码"}):e.showToast({icon:"none",title:"请上传营业执照"}):e.showToast({icon:"none",title:"请输入法人代表"}):e.showToast({icon:"none",title:"请输入企业名"})},openlogin:function(){e.navigateTo({url:"MerLogin"})}}};t.default=i}).call(this,o("649d")["default"])},2347:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("view",{staticClass:"uni-reg-content"},[o("form",{staticClass:"uni-reg-list",attrs:{eventid:"5e9a3721-9"},on:{submit:e.formSubmit}},[o("view",{staticClass:"uni-form-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.merchantname,expression:"merchantname"}],attrs:{type:"text",name:"merchantname",placeholder:"请输入店铺名",eventid:"5e9a3721-0"},domProps:{value:e.merchantname},on:{input:function(t){t.target.composing||(e.merchantname=t.target.value)}}})]),o("view",{staticClass:"uni-form-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.artiperson,expression:"artiperson"}],attrs:{type:"text",name:"artiperson",placeholder:"请输入法人代表",eventid:"5e9a3721-1"},domProps:{value:e.artiperson},on:{input:function(t){t.target.composing||(e.artiperson=t.target.value)}}})]),o("view",{staticClass:"uni-form-item uni-form-zz"},[o("text",[e._v("请上传营业执照")]),o("image",{attrs:{src:e.imgs}}),o("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"businesslicense",value:e.img}}),o("view",{staticClass:"message_code_gain",attrs:{eventid:"5e9a3721-2"},on:{click:e.getImage}},[e._v("点击上传")])]),o("view",{staticClass:"uni-form-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{type:"number",name:"mobile",placeholder:"请输入手机号",eventid:"5e9a3721-3"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),o("view",{staticClass:"uni-form-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",name:"yzm",value:e.code,placeholder:"请输入验证码",eventid:"5e9a3721-4"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),o("view",{staticClass:"message_code_gain",attrs:{eventid:"5e9a3721-5"},on:{click:e.openCodeDialog}},[e._v(e._s(e.tipsCode))])]),o("view",{staticClass:"uni-form-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{password:"",name:"password",type:"text",placeholder:"请输入密码",eventid:"5e9a3721-6"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),o("view",{staticClass:"uni-form-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.conpassword,expression:"conpassword"}],attrs:{password:"",type:"text",placeholder:"确认密码",eventid:"5e9a3721-7"},domProps:{value:e.conpassword},on:{input:function(t){t.target.composing||(e.conpassword=t.target.value)}}})]),o("view",{staticClass:"uni-zc-but"},[o("button",{attrs:{type:"primary","form-type":"submit"}},[e._v("商家注册")]),o("view",{staticClass:"uni-login-but",attrs:{eventid:"5e9a3721-8"},on:{tap:e.openlogin}},[o("text",[e._v("已有账号？立即登录")])])],1)])],1)},a=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},"99c1":function(e,t,o){"use strict";o.r(t);var n=o("04c1"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);t["default"]=a.a},afff:function(e,t,o){"use strict";var n=o("e837"),a=o.n(n);a.a},e62f:function(e,t,o){"use strict";o.r(t);var n=o("2347"),a=o("99c1");for(var i in a)"default"!==i&&function(e){o.d(t,e,function(){return a[e]})}(i);o("afff");var s=o("2877"),r=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=r.exports},e837:function(e,t,o){},f358:function(e,t,o){"use strict";o("f15c");var n=i(o("b0ce")),a=i(o("e62f"));function i(e){return e&&e.__esModule?e:{default:e}}Page((0,n.default)(a.default))}},[["f358","common/runtime","common/vendor"]]]);