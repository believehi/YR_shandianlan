(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Merchant/MerInfoData"],{1239:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a("436c"));function o(e){return e&&e.__esModule?e:{default:e}}var i={components:{},data:function(){return{UserId:"",userfoArray:"",nickname:"",mobile:"",userdata:"",loginMark:"",token:"",Headimgurl:"",Position:"",img:"",imgss:"",MerImg:"",ArtiPerson:"",MerPer:"",MerName:""}},onLoad:function(){this.userinfo(),this.UserId=n.default.getstate().userid,this.loginMark=e.getStorageSync("loginMark"),this.token=e.getStorageSync("token")},methods:{userinfo:function(){var t=this;e.showLoading({title:"加载中"});var a=n.default.getstate().userid;e.request({url:n.default.websiteUrl+"merchantcenter/getmerchantinfo",method:"GET",data:n.default.postdata({mid:a}),success:function(a){200==a.data.code?(t.img=a.data.data.baseinfo.Headimgurl,t.userfoArray=a.data.data.baseinfo,t.imgss=t.userfoArray.BusinessLicense):e.showToast({icon:"none",title:a.data.info}),e.hideLoading()},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"网络异常,请稍后重试"})}})},setData:function(e){var t=this;Object.keys(e).forEach(function(a){t.$set(t.$data,a,e[a])})},getImage:function(){var t=this;e.chooseImage({success:function(a){e.showLoading({title:"上传中"}),e.uploadFile({url:n.default.websiteUrl+"/annexes/UploadImg",filePath:a.tempFilePaths[0],fileType:"uploadFile",name:"upload",formData:n.default.postdata({}),success:function(a){var n=JSON.parse(a.data);if(200==n.code){var o="https://cszx.yiruit.net",i=o+n.info;t.Headimgurl=i,e.showToast({icon:"none",title:"上传成功"})}else e.hideLoading(),e.showToast({icon:"none",title:"上传失败,请重试"});e.hideLoading()},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"上传失败,请重试"})}}),t.setData({img:a.tempFilePaths[0]})}})},DiscernImage:function(){var t=this;e.chooseImage({success:function(a){t.imgss=a.tempFilePaths[0],e.showLoading({title:"识别中"}),e.uploadFile({url:n.default.websiteUrl+"annexes/businesslicense",filePath:a.tempFilePaths[0],fileType:"uploadFile",name:"upload",formData:{loginMark:n.default.getloginMark(),token:"",data:"{}"},success:function(a){var n=JSON.parse(a.data);if(200==n.code){var o="https://cszx.yiruit.net",i=o+n.data.path;t.MerImg=i,t.MerName=n.data.name,t.MerPer=n.data.person,e.showToast({icon:"none",title:"识别成功！"})}else e.hideLoading(),e.showToast({icon:"none",title:n.info});e.hideLoading()},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"识别失败"})}}),t.setData({imgss:a.tempFilePaths[0]})}})},formSubmit:function(t){var a=this;e.showModal({title:"提示",content:"是否确定修改！",success:function(o){o.confirm&&(e.showLoading({title:"修改中"}),a.userdata=t.detail.value,e.request({url:n.default.websiteUrl+"/merchantcenter/updatemerchantcenter",method:"GET",data:{loginMark:a.loginMark,token:a.token,data:a.userdata},success:function(t){200==t.data.code?e.showToast({icon:"none",title:"修改成功"}):e.showToast({icon:"none",title:t.data.info}),e.hideLoading()},fail:function(){e.hideLoading(),e.showToast({icon:"none",title:"网络异常,请稍后重试"})}}))}})},openphone:function(){e.navigateTo({url:"zhanghuanquan"})}}};t.default=i}).call(this,a("543d")["default"])},a128:function(e,t,a){"use strict";var n=a("d414"),o=a.n(n);o.a},a493:function(e,t,a){"use strict";(function(e){a("557f"),a("921b");n(a("66fd"));var t=n(a("ef31"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},cb2c:function(e,t,a){"use strict";a.r(t);var n=a("1239"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t["default"]=o.a},d414:function(e,t,a){},ef31:function(e,t,a){"use strict";a.r(t);var n=a("fa96"),o=a("cb2c");for(var i in o)"default"!==i&&function(e){a.d(t,e,function(){return o[e]})}(i);a("a128");var s,r=a("f0c5"),u=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);t["default"]=u.exports},fa96:function(e,t,a){"use strict";var n,o=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"b",function(){return o}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return n})}},[["a493","common/runtime","common/vendor"]]]);